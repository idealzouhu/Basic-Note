[TOC]

# 一、MySQL 日志

![img](images/v2-db8d56110c87a6769af97a83509528f4_720w.webp)

物理日志和逻辑日志是数据库系统中两种不同类型的日志。

物理日志会记录这些物理改变的具体细节，如修改的数据页、修改的偏移量以及修改的数据内容等。

逻辑日志会记录用户执行的插入操作，包括插入的数据内容、插入的表名以及插入操作的时间等。逻辑日志不涉及具体的物理细节，而是记录了用户对数据库执行的逻辑操作。









# 二、binlog

## 2.1 什么是 binlog





# 三、redo log

## 3.1 什么是 redo log





# 四、undo log



 



# 五、细节补充

## 5.1 redo log 和 undo log 的区别

| 特征       | Redo Log                                                     | Undo Log                                                     |
| ---------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 目的       | 用于保障事务的**持久性**，确保事务提交后的修改操作不会丢失。 | 用于保障事务的**原子性**，确保事务执行时的修改操作可以回滚。 |
| 记录内容   | 记录事务对数据库的所有修改操作的**正向操作**。（物理日志）   | 记录事务对数据库的所有修改操作的**逆操作**。（逻辑日志）     |
| 写入时机   | 事务提交时将修改操作写入 Redo Log。                          | 事务开始执行时将修改操作写入 Undo Log。                      |
| 触发时机   | 事务提交时触发 Redo Log 的写入。                             | 事务执行时触发 Undo Log 的写入。                             |
| 使用场景   | 用于数据库崩溃或者系统故障时的数据恢复。                     | 用于事务回滚或者数据库崩溃时的数据恢复。                     |
| 持久性保障 | 保障事务提交后的修改操作可以永久保存。                       | 保障事务执行过程中的修改操作可以回滚。                       |



`redo log`在事务执行过程中可以不断写入，而`binlog`只有在提交事务时才写入。详情查看[MySQL三大日志(binlog、redo log和undo log)详解 | JavaGuide](https://javaguide.cn/database/mysql/mysql-logs.html#两阶段提交)





# 参考资料

[MySQL三大日志(binlog、redo log和undo log)详解 | JavaGuide](https://javaguide.cn/database/mysql/mysql-logs.html#前言)