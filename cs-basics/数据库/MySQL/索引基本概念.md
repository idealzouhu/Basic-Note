

## 索引结构

[MySQL索引详解（一文搞懂）-阿里云开发者社区 (aliyun.com)](https://developer.aliyun.com/article/831250)

**MyISAM**

MyISAM使用B+树构建索引树时，叶子节点中键值key存储的是索引列的值，数据data存储的是索引所在行的磁盘地址。

![在这里插入图片描述](images/e91e5091172346568d93c9bc3814e5f9.png)



**InnoDB**

每个InnoDB表都有一个聚簇索引，聚簇索引使用B+树构建，叶子节点的data域存储的是整行记录。一般情况下，聚簇索引等同于主键索引，当一个表没有创建主键索引时，InnoDB会自动创建一个ROWID字段来构建聚簇索引。

除聚簇索引之外的所有索引都被称为辅助索引。在InnoDB中，辅助索引中的叶子节点键值存储的是该行的主键值。在检索时，InnoDB使用此主键在聚簇索引中搜索行记录。

![在这里插入图片描述](images/29a27130b5a843b59c5c560cd5c731b2.png)





## 回表

回表：**在流程中从非主键索引树搜索回到主键索引树搜索的过程**

> 在了解回表之前，我们需要理解非主键索引和主键索引的具体结构

回表是数据库查询过程中的一个步骤，指的是在通过索引找到符合条件的记录后，需要再次访问表中的数据行来获取完整的记录信息。



具体案例查看：[什么是覆盖索引?如何利用覆盖索引进行SQL语句优化？_覆盖索引优化-CSDN博客](https://blog.csdn.net/nishiwodebocai21/article/details/104497235)    基于非主键索引的查询需要多扫描一棵索引树





## 覆盖索引

覆盖索引（covering index ，或称为索引覆盖）即从非主键索引中就能查到的记录，而不需要查询主键索引中的记录，**避免了回表的产生**减少了树的搜索次数，显著提升性能

> 如果一个索引包含（或者说覆盖）所有需要查询的字段的值，我们就称之为 **覆盖索引（Covering Index）** 。



覆盖索引通常是用联合索引来实现的，具体案例查看 [什么是覆盖索引?如何利用覆盖索引进行SQL语句优化？_覆盖索引优化-CSDN博客](https://blog.csdn.net/nishiwodebocai21/article/details/104497235)



## 聚簇索引

聚簇索引（Clustered Index）即**索引结构和数据一起存放的索引**，并不是一种单独的索引类型。InnoDB 中的主键索引就属于聚簇索引。





## 参考资料

[MySQL索引详解（一文搞懂）-阿里云开发者社区 (aliyun.com)](https://developer.aliyun.com/article/831250)

[什么是覆盖索引?如何利用覆盖索引进行SQL语句优化？_覆盖索引优化-CSDN博客](https://blog.csdn.net/nishiwodebocai21/article/details/104497235)

[在Mysql中，什么是回表，什么是覆盖索引，索引下推？ - 知乎 (zhihu.com)](https://zhuanlan.zhihu.com/p/401198674)