### 加行级锁的 SQL 语句

快照读不加锁， 当前读加锁。





### Update 没加索引会锁全表

在当前读时，如果走全表扫描，表中的所有记录加上锁。





### 行级锁

**加锁的对象是索引，加锁的基本单位是 next-key lock**，

**在能使用记录锁或者间隙锁就能避免幻读现象的场景下，next-key lock 就会退化成记录锁或间隙锁**。