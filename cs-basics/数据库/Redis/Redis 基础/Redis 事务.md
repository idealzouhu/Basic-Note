### 不支持回滚

 Redis 事务不支持回滚。

当 Redis 事务执行过程中发生运行时错误时，Redis 不会自动回滚事务。因为 Redis 事务采用的是乐观锁的方式来实现原子性。





### 事务原子性

Redis 对事务原子性属性的保证情况:

- Redis 事务正常执行，可以保证原子性
- Redis 事务执行中某一个操作执行失败，不保证原子性





### 事务和 Lua 脚本的区别

事务和 Lua 脚本是两种不同的机制，各自**适用于不同的场景**。

- 事务是一组命令的原子性操作，要么全部执行成功，要么全部不执行。事务适用于将多个命令打包成一个原子操作的场景，相对简单。
- Lua 脚本是一段 Lua 代码，可以在 Redis 中执行，实现复杂的原子操作和业务逻辑。

