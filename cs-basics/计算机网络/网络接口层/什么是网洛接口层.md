### 什么是网络接口层

网络接口层（如 **以太网**、**Wi-Fi** 等）负责的是 **物理传输** 和 **链路层的管理**。它处理的是数据在物理网络上的传输，确保数据能够被正确地传输到与本地设备直接相连的其他设备上。





### 为什么不能直接通过 IP 地址来传输

假设你有两个主机 A 和 B，它们通过 **IP 地址** 进行通信：

- 网络层（IP）会根据目标 IP 地址来决定数据包应该走哪个路由（如是否经过多个中间路由器等）。
- 但是，**中间路由器**并不知道如何通过本地网络接口将数据包交付到目标主机 B。它只知道下一跳的 IP 地址，并且数据需要经过网络接口层来真正到达目标主机。在局域网内，当设备知道目标设备的 IP 地址时，它会通过 ARP 请求来获取目标设备的 MAC 地址，然后再通过 MAC 地址来传输数据。
- 在路由器将数据包转发到目标主机时，数据包会被传递给网络接口层，并被**封装成帧**，最终通过物理媒介传送到主机 B。



由于 IP 地址不能唯一标识设备，最后的传输必须使用 MAC 地址。例如，在**局域网**内，可能有多个设备使用同一子网内的**相同 IP 地址**（例如使用 NAT）。





### IP 地址和 MAC 地址

**IP 地址**是网络层（Layer 3）的概念，用于设备在网络中的**定位**和**寻址**。它通常分为**公网 IP**（用于互联网上的设备）和**私网 IP**（用于局域网内的设备）。IP 地址标识的是设备所在的**网络位置**，并帮助数据在网络中进行**路由**。

**MAC 地址**是数据链路层（Layer 2）的概念，代表设备的**物理地址**。它是硬件设备（如网卡、路由器、交换机等）出厂时由制造商分配的，通常是一个48位的十六进制字符串（如 `00:14:22:01:23:45`）。MAC 地址用于**局域网内部**的设备唯一标识，并且**不随设备的网络位置变化**。





### 为什么 IP 地址不能唯一标识设备

**IP 地址**本身不能直接标识一个设备，因为：

- **IP 地址的分配**可以是动态的（例如使用 DHCP 协议），一个设备在不同时间可以获得不同的 IP 地址。
- **IP 地址**是**网络层**的地址，它可以表示网络中的一个节点或多个节点，而不一定是一个设备的唯一标识。例如，**NAT（网络地址转换）**可以将多个内部设备映射到同一个公网 IP 地址上，这时公网 IP 地址就不能区分不同的设备了。
- 在**局域网**内，可能有多个设备使用同一子网内的**相同 IP 地址**（例如使用 NAT）。这种情况下，IP 地址无法明确标识设备。