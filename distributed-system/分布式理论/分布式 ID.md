

雪花算法组成



**SnowFlake** = 不适用（固定为0，1bit） + 时间戳 （毫秒级别）+ 标识位（） + 序列号



标识位 = dataCenterId （数据中心 ID） +  workerId （工作节点 ID） = 标识分布式系统中唯一节点的两个关键参数





雪花算法**有序自增**，保障了 MySQL 中 B+ Tree 索引结构插入高性能





## ID 重复

雪花算法生成 ID 冲突存在一定的前提条件：

1. 服务通过集群的方式部署，其中部分机器标识位一致。
2. 业务存在一定的并发量，没有并发量无法触发重复问题。
3. 生成 ID 的时机：同一毫秒下的序列号一致。











# 参考资料

[如何生成分布式雪花算法ID (yuque.com)](https://www.yuque.com/magestack/12306/ciigw9ctq0v90u3w#c64e57f6)