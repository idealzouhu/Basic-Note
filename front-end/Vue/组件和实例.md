[TOC]



## 一、组件

### 1.1 什么是组件

**组件** 是 Vue 应用的核心构建块。

**组件** 是一个 **模板、脚本和样式** 的组合，通常用于定义一个可复用的 UI 片段或功能模块。组件本身并不直接操作 DOM，而是通过 Vue 实例化后渲染到页面中。





### 1.2 Vue 单文件组件 (SFC)

当使用构建步骤时，我们一般会将 Vue 组件定义在一个单独的 `.vue` 文件中，这被叫做[单文件组件](https://cn.vuejs.org/guide/scaling-up/sfc.html) (简称 SFC)。

Vue 的单文件组件是网页开发中 HTML、CSS 和 JavaScript 三种语言经典组合的自然延伸。`<template>`、`<script>` 和 `<style>` 三个块在同一个文件中封装、组合了组件的视图、逻辑和样式。 `.vue` 文件包括三个部分：

- `<template>`：HTML 结构
- `<script>`：JavaScript 逻辑
- `<style>`：CSS 样式

> 

举个简单的例子，

```vue
<script setup>
import { ref } from 'vue'
const greeting = ref('Hello World!')
</script>

<template>
  <p class="greeting">{{ greeting }}</p>
</template>

<style>
.greeting {
  color: red;
  font-weight: bold;
}
</style>
```







### 1.3 组件的组成部分

组件选项对象可以包含如下属性：

- **`data`**: 数据对象，用于存储组件的响应式数据。
- **`props`**: 属性数组或对象，用于接收父组件传递的数据。
- **`computed`**: 计算属性对象，根据响应式依赖进行动态计算。
- **`methods`**: 方法对象，包含组件内部的函数和操作。
- **`watch`**: 监听器对象，用于监听数据变化并做出响应。
- **`template`**: 字符串，定义组件的模板结构。换句话说，定义组件视图的部分，通过声明式的语法将数据与 HTML 元素绑定，自动更新视图。
- **`render`**: 函数，用于渲染组件的虚拟 DOM。
- **`setup`**: 函数，用于设置组件的初始状态、数据、计算属性和监听器等（Vue 3 中）。



## 二、组件实例

### 2.1 组件实例

**组件实例** 是 **Vue** 创建并管理的对象，它处理组件的数据、事件、方法以及生命周期。当 Vue 渲染组件时，它实际上是在背后创建了一个组件实例，并将其与 DOM 元素绑定。

实例的组成成分：

- 组件属性：组件实例包含组件的 `data`、`props`、`methods`、`computed` 等属性。每个组件实例会根据其内部的数据和方法，渲染出相应的 UI。
- 生命周期：每个组件实例都有自己的生命周期，允许开发者在组件生命周期的不同阶段执行自定义逻辑，包含初始化、挂载、更新、销毁等阶段。





### 2.2 组件注册

一个 Vue 组件在使用前需要先被“注册”，这样 Vue 才能在渲染模板时找到其对应的实现。组件注册有两种方式：

- 全局注册：适合那些整个应用中都会频繁使用的组件，例如：`Button`、`Modal`、`Header` 等通用组件。
- 局部注册：适合只在某个特定组件中使用的组件，避免全局污染和提高性能。





### 2.3 组件实例化并使用

要使用一个子组件，我们需要在父组件中导入它。

举个例子，

```

```











## 三、应用实例

### 3.1 什么是应用实例

**应用实例**是指整个 Vue 应用的核心对象，它代表了 Vue 应用的生命周期、状态和配置。应用实例是通过 `createApp()` 方法创建的，负责管理应用的组件和应用级别的配置。

应用实例的特点：

- **全局配置**：应用实例管理着应用的全局配置，例如插件、路由、状态管理等。
- **挂载**：通过 `app.mount('#app')` 将 Vue 应用挂载到一个 DOM 元素上，启动应用。
- **全局组件与指令**：应用实例负责注册全局组件、全局指令、全局混入等。

- 对于每个应用实例，`mount()` 仅能调用一次。

```
import { createApp } from 'vue'
const app = createApp(/* ... */)

app.mount('#app')
```





### 3.2 应用实例创建方式

[快速上手 | Vue.js](https://cn.vuejs.org/guide/quick-start.html#creating-a-vue-application)

```javascript
import { createApp } from 'vue'
import App from './App.vue'

const app = createApp(App)  // 'App' 是根组件
app.mount('#app')
```



### 3.3 应用实例的首个组件——根组件实例

[前端 - vue根组件实例和应用实例的区别? - SegmentFault 思否](https://segmentfault.com/q/1010000044062263)

根组件实例是应用实例中作为入口的第一个组件，也就是在 `createApp()` 时传入的组件（通常是 `App.vue`）。根组件实例是 Vue 应用中的第一个组件，它负责在页面中渲染和初始化其他子组件。

| 特性         | 应用实例                                    | 根组件实例                                |
| ------------ | ------------------------------------------- | ----------------------------------------- |
| **定义**     | 通过 `createApp()` 创建，代表整个 Vue 应用  | 应用实例中的第一个组件，通常是 `App.vue`  |
| **创建方式** | `const app = createApp(App)`                | 作为 `createApp()` 的参数传入             |
| **作用范围** | 管理整个 Vue 应用，包括所有组件和配置       | 管理整个组件的生命周期，是根节点组件      |
| **生命周期** | 有自己的生命周期，如 `beforeMount` 等       | 有自己的生命周期钩子，如 `mounted`        |
| **挂载方式** | `app.mount('#app')` 挂载应用实例到 DOM 元素 | 根组件实例会作为子组件渲染并嵌套其他组件  |
| **主要功能** | 管理全局配置、插件、路由等                  | 渲染 Vue 应用的第一个视图，通常包含子组件 |





### 2.3 组件实例和应用实例的区别

| 特性         | 组件实例                                     | 应用实例                                               |
| ------------ | -------------------------------------------- | ------------------------------------------------------ |
| **定义**     | 组件实例是 Vue 渲染出的单个组件对象          | 应用实例是通过 `createApp()` 创建的整个 Vue 应用的对象 |
| **作用范围** | 管理单个组件的状态、数据、生命周期等         | 管理整个 Vue 应用的生命周期、全局配置等                |
| **创建方式** | 在父组件模板中引用组件时创建                 | 使用 `createApp()` 创建                                |
| **生命周期** | 每个组件实例有自己的生命周期                 | 应用实例有自己的生命周期                               |
| **全局配置** | 不涉及全局配置                               | 管理全局配置（如全局组件、插件、路由等）               |
| **挂载**     | 组件实例不直接挂载到 DOM 上，而是由 Vue 渲染 | 应用实例通过 `app.mount('#app')` 挂载到 DOM 元素       |







## 三、项目结构

### 根容器

Vue 是一个 **前端 JavaScript 框架**，它的工作原理是**通过组件化的方式来构建用户界面，而这些组件最终会渲染成 HTML**。虽然 Vue 自己处理了很多动态渲染和交互逻辑，但它仍然**依赖于一个初始的 HTML 文件来作为根容器**。

- **根容器**：你需要一个 HTML 文件来作为 Vue 应用的根容器，通常会有一个 `<div id="app"></div>` 这样的元素，Vue 会将整个应用挂载到这个元素中。

- **挂载点**：Vue 应用的实例通常会挂载到一个已有的 DOM 元素上。

```html
<!-- index.html -->
<html>
  <head>
    <title>Vue App</title>
  </head>
  <body>
    <div id="app"></div>  <!-- Vue 会将应用挂载到这个 div 上 -->
  </body>
</html>
```



```javascript
// main.js
import { createApp } from 'vue'
import App from './App.vue'

createApp(App).mount('#app')  // Vue 挂载到 id 为 "app" 的 div 上
```

