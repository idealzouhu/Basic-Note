

# 一、异步通信模式

## 1.1 为什么引入异步通信模式

在分布式计算规模逐渐增大的背景下，远程调用模型 RPC (一种同步通信模式) 心有余而力不足，异步通信模式因此诞生。

异步通信模式是一种通过异步消息传递来进行通信的模式，它允许发送者发送消息后立即返回，而不必等待接收者的响应。异步通信模式主要包括：

- 消息发布/订阅模式
- 消息队列模式

总的来说，RPC 是一种同步通信模式，适用于需要即时响应的场景，而异步通信模式适用于需要**处理大量并发请求**的场景，可以提高系统的吞吐量和性能。





# 二、发布订阅模式

## 2.1 什么是发布订阅模式

发布-订阅模式（Publish-Subscribe Pattern）是一种软件设计模式，用于实现消息的发布和订阅机制。在这种模式中，消息的发布者（发布者）将消息发布到一个中心（通常称为主题或频道），而消息的订阅者（订阅者）可以订阅感兴趣的主题或频道，以接收相关的消息通知。

主要组成部分包括：

1. **发布者（Publisher）**：负责发布消息到指定的主题或频道。一旦发布者发布了消息，所有订阅了该主题或频道的订阅者都会收到相应的消息通知。
2. **订阅者（Subscriber）**：订阅感兴趣的主题或频道，并在有相关消息发布时接收通知。订阅者可以是一个或多个，它们通过注册订阅来表明对特定主题或频道感兴趣。
3. **主题或频道（Topic/Channel）**：消息发布者发布消息的地方，订阅者订阅的对象。一个主题或频道可以有多个发布者和多个订阅者。



## 2.2 发布订阅模式案例

发布订阅思想比较常见，举个例子：在学术界电子论文的订阅方式中，会议方或出版社负责发布学术论文到论文网站。学生或老师可以在论文网站上订阅自己感兴趣的论文类别，比如分布式系统或人工智能等。一旦会议方或出版社发布了新的论文到论文网站上，论文网站将根据订阅信息，将相应的论文推送给订阅者，通常通过电子邮件等方式进行通知。

引用 [分布式通信技术之发布订阅模式 - 知乎 (zhihu.com)](https://zhuanlan.zhihu.com/p/107247334) 中的图片：

![img](images/v2-55856852dcba090b9559eead1ec4c376_720w.webp)

这里的会议方或出版社充当生产者角色，负责发布论文，而学生或老师则是消费者，订阅并接收感兴趣的论文。论文网站则充当消息中心，负责将论文推送给订阅者。



## 2.3 优点

发布-订阅模式的优点包括：

- 松耦合：发布者和订阅者之间没有直接的依赖关系，它们之间通过消息中心进行通信，使得系统更加灵活和可扩展。
- 适用于多对多的通信：多个发布者可以发布消息到同一个主题或频道，多个订阅者也可以订阅同一个主题或频道，实现了多对多的通信模式。
- 可靠性：即使某个订阅者当前不可用，也不会影响其他订阅者的消息接收。



# 参考资料

[分布式通信技术之发布订阅模式 - 知乎 (zhihu.com)](https://zhuanlan.zhihu.com/p/107247334)