### 桥接模式（Bridged Mode）

桥接模式下，虚拟机的网络接口直接与宿主机的物理网络接口相连接。虚拟机就像是连接在宿主机所在的物理网络中的一个**独立设备**。

```css
[虚拟机] <---> [物理网络] <---> [宿主机]
```

特点：

- 虚拟机获取与宿主机相同的网络段中的 IP 地址，可以通过 DHCP 服务器或者静态 IP 进行配置。

- 虚拟机可以与宿主机及局域网中的其他物理设备直接通信，就像它是一台独立的设备。

- 如果局域网中的其他设备需要访问虚拟机，它们可以直接通过虚拟机的 IP 地址进行访问。

使用场景：

- 虚拟机需要与局域网中的其他设备进行通信。
- 虚拟机需要获取与宿主机相同网段的 IP 地址。
- 适合用于虚拟机需要作为网络中的服务器的场景，如开发、测试服务器部署。



### NAT 模式（Network Address Translation）

在 NAT 模式下，**虚拟机通过宿主机的网络接口访问外部网络**，虚拟机的网络流量会通过宿主机进行地址转换（NAT），外部网络只会看到宿主机的 IP 地址。

```
[虚拟机] <---> [NAT] <---> [宿主机] <---> [外部网络/互联网]
```

特点：

- 虚拟机与宿主机共享同一个外部网络接口（IP 地址），外部网络中的其他设备无法直接访问虚拟机。
- 虚拟机可以访问外部网络（如互联网），但外部网络中的设备无法主动访问虚拟机（除非配置端口转发）。
- 虚拟机使用的是虚拟网络中的 IP 地址（通常是一个内网地址），并通过宿主机进行 NAT 转换。

使用场景：

- 虚拟机需要与局域网中的其他设备进行通信。
- 虚拟机需要获取与宿主机相同网段的 IP 地址。
- 适合用于虚拟机需要作为网络中的服务器的场景，如开发、测试服务器部署。



### 仅主机模式（Host-Only Mode）

仅主机模式下，**虚拟机与宿主机之间有一个虚拟的专用网络**，虚拟机无法直接访问外部网络，也无法被外部网络访问。

```
[虚拟机] <---> [宿主机] (无外部网络连接)
```

特点：

- 虚拟机与宿主机之间建立一个私有网络，虚拟机无法访问外部网络，除非通过宿主机进行路由。
- 虚拟机与宿主机可以直接通信，但不能与局域网中的其他设备通信。
- 虚拟机使用的是独立于外部网络的内网 IP 地址

使用场景：

- 虚拟机需要与宿主机进行独立通信，但不需要访问外部网络。
- 适合用于开发、测试环境中，虚拟机与宿主机间的隔离访问，不受外部网络影响。





### 不同模式之间的区别

| 模式       | 网络连接            | 访问外部网络 | 外部访问虚拟机 | 适用场景                           |
| ---------- | ------------------- | ------------ | -------------- | ---------------------------------- |
| 桥接模式   | 直接连接物理网络    | 是           | 是             | 虚拟机需要与局域网设备通信         |
| NAT 模式   | 通过宿主机 NAT 连接 | 是           | 否             | 虚拟机访问外部网络，不需被访问     |
| 仅主机模式 | 仅虚拟机和宿主机    | 否           | 否             | 虚拟机与宿主机专用网络，不访问外网 |







### DHCP 服务

无论是 **桥接模式** 还是 **NAT 模式**，DHCP 服务的目的是自动为虚拟机分配 IP 地址并提供网络配置。

- 在 **桥接模式** 下，DHCP 服务通常由局域网中的路由器或专用 DHCP 服务器提供；
- 在 **NAT 和仅主机模式** 下，DHCP 服务通常由宿主机的虚拟网络服务提供， 这个 IP 地址外部网络看不到。