# 一、软件三高

软件三高主要包括 高并发 、 高性能 、高可用

**高并发（High Concurrency）**：系统能够同时处理大量的并发请求或任务的能力

**高性能（High Performance）**：系统在单位时间内完成更多的工作，提高系统的响应速度、吞吐量和处理能力。

**高可用性（High Availability）**：系统能够持续地提供服务，即使在面对各种故障和异常情况时也能够保持稳定运行。

需要注意的是，软件三高的部分解决策略是相同的。



# 二、高并发

## 2.1 评价指标

**QPS（Queries Per Second，每秒查询率）**来衡量系统承载能力



## 2.2 策略

常用的解决策略主要有：

- **水平扩展（Horizontal Scaling）**：通过增加服务器实例(**集群化部署**)来处理更多的并发请求。水平扩展可以通过**负载均衡**器将请求分发到不同的服务器上，从而提高系统的整体处理能力。
- **异步处理**：将一些耗时的操作或者不需要即时返回结果的操作进行异步处理。通过**消息队列**或者任务队列来缓冲和异步处理请求，从而降低系统的压力，提高系统的响应速度和吞吐量。
- **缓存**：使用缓存来存储频繁访问的数据或者计算结果，减少对后端存储系统的访问压力(**冷热分离**思想)。缓存可以极大地提高系统的性能和吞吐量，同时减少对底层资源的消耗。
- **数据库优化**：对数据库进行优化，包括优化查询语句、建立合适的索引、使用数据库分区等技术来提高数据库的性能和并发能力。
- **资源池**：使用资源池来管理系统中的资源，包括数据库连接池、线程池、进程池、对象池、内存池、连接池、协程池等(**池化技术**)。资源池可以有效地管理系统中的资源并提高资源的重用率，从而降低系统的开销。
- **限流和熔断**：通过限流和熔断机制来控制系统的并发请求量，防止系统被过多的请求压垮。可以根据系统的负载情况动态地进行限流和熔断，保护系统的稳定性和可用性。
- **分布式架构**：采用分布式架构来构建系统，将系统拆分为多个独立的服务，通过服务间的异步通信来实现业务逻辑。分布式架构可以有效地提高系统的可伸缩性和容错性，从而更好地应对高并发的挑战。



# 三、高性能

## 3.1 评价指标

请求延迟

## 3.2 策略

常用的解决策略主要有：

- **水平扩展（Horizontal Scaling）**：通过增加服务器实例来处理更多的并发请求。水平扩展可以通过**负载均衡**器将请求分发到不同的服务器上，从而提高系统的整体处理能力。
- **异步处理**：将一些耗时的操作或者不需要即时返回结果的操作进行异步处理。通过**消息队列**或者任务队列来缓冲和异步处理请求，从而降低系统的压力，提高系统的响应速度和吞吐量。

- **CDN 和全站加速**
- **数据库优化**



# 四、高可用

## 4.1 评价指标

高可用指标主要使用 SLA。

- MTBF（Mean Time Between Failure），系统可用时长

- MTTR（Mean Time To Repair），系统从故障后到恢复正常所耗费的时间

- SLA（Service-Level Agreement），服务等级协议，用于评估服务可用性等级。计算公式是 
  $$
  MTBF/(MTBF+MTTR)
  $$
  

## 4.2 策略

常用的解决策略主要有：

- **集群化部署**：使用集群，减少单点故障；主备切换，缩减故障时间；

- **限流和熔断**：通过限流和熔断机制来控制系统的并发请求量，防止系统被过多的请求压垮。可以根据系统的负载情况动态地进行限流和熔断，保护系统的稳定性和可用性。

- **代码质量**：高质量的代码通常意味着代码逻辑清晰、bug 较少，减少了系统崩溃和故障的可能性。





# 参考资料

[高可用和高性能系统设计指南 | JavaGuide](https://javaguide.cn/high-availability/high-availability-system-design.html) （给出高可用和高性能的常用解决方案）